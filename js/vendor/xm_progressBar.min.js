"use strict";function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function XM_ProgressBar(g){var s={height:6,lineColor:"#ebebeb",lineCap:"round",buttEnd:!1,animation:{easing:!0},animateOnScroll:!1,controlAnimation:!1,speed:50,scale:{start:0,end:1,stop:1},invertedProgress:!1,reverse:!1,linkText:!1,innerLink:!0,linkToContainer:".bar-progress-wrap",linkTo:".bar-progress-text",extraLinkTo:[],linkUnits:"%",linkUnitsSelector:".bar-progress-unit",innerTextFollowsProgress:!1,decimalPoints:0,barTextStyle:{primaryColor:"#fff",secondaryColor:"#363636",font:"bold 10px Exo, sans-serif"}},d={progressBars:[]},c=function(){var n=document.querySelectorAll(s.container);if(!n.length)throw Error('Unable to find "'.concat(s.container,'" in the DOM'));var t=!0,i=!1,o=void 0;try{for(var e,r=n[Symbol.iterator]();!(t=(e=r.next()).done);t=!0){var c=e.value,a={};if(S(a,s),void 0!==g.scale){var l=null!==c.getAttribute("data-scalestop")&&Number.parseFloat(c.getAttribute("data-scalestop")),f=Number.parseFloat(c.getAttribute("data-scaleend"))||!1;!1!==l&&(a.scale.stop=l),f&&(a.scale.end=f)}a.originalDimensions={width:a.width,height:a.height},d.progressBars.push({container:c,config:a})}}catch(n){i=!0,o=n}finally{try{t||null==r.return||r.return()}finally{if(i)throw o}}},a=function(){var n=!0,t=!1,i=void 0;try{for(var o,e=d.progressBars[Symbol.iterator]();!(n=(o=e.next()).done);n=!0){var r=o.value,c=1/0;for(var a in r.config.breakpoints)window.innerWidth<=a&&(c=a<c?a:c);if(c===1/0)return;r.config.width=r.config.breakpoints[c].width,r.config.height=r.config.breakpoints[c].height}}catch(n){t=!0,i=n}finally{try{n||null==e.return||e.return()}finally{if(t)throw i}}},l=function(){var n=!0,t=!1,i=void 0;try{for(var o,e=d.progressBars[Symbol.iterator]();!(n=(o=e.next()).done);n=!0){var r=o.value;"auto"!==r.config.width&&void 0!==r.config.width||(r.autoWidth=!0,r.parent=r.container.parentElement,r.config.width=r.parent.offsetWidth)}}catch(n){t=!0,i=n}finally{try{n||null==e.return||e.return()}finally{if(t)throw i}}},f=function(){var n=!0,t=!1,i=void 0;try{for(var o,e=d.progressBars[Symbol.iterator]();!(n=(o=e.next()).done);n=!0){var r=o.value;r.config.scale.stop=r.config.scale.stop>r.config.scale.end?r.config.scale.end:r.config.scale.stop,r.config.scale.stop=r.config.scale.stop<r.config.scale.start?r.config.scale.start:r.config.scale.stop,r.config.scale.stop=void 0!==r.config.scale.stop?r.config.scale.stop:r.config.scale.end,r.config.stopPoint=r.config.scale.stop/r.config.scale.end*r.config.width}}catch(n){t=!0,i=n}finally{try{n||null==e.return||e.return()}finally{if(t)throw i}}},h=function(){var n=!0,t=!1,i=void 0;try{for(var o,e=d.progressBars[Symbol.iterator]();!(n=(o=e.next()).done);n=!0){var r=o.value;r.canvas=document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.canvas.width=r.config.width,r.canvas.height=r.config.height,r.canvas.style.position="absolute",r.canvas.style.top=0,r.canvas.style.left=0,r.container.style.width="".concat(r.config.width,"px"),r.container.style.height="".concat(r.config.height,"px"),r.container.style.position="relative",r.container.append(r.canvas)}}catch(n){t=!0,i=n}finally{try{n||null==e.return||e.return()}finally{if(t)throw i}}},u=function(){var n=!0,t=!1,i=void 0;try{for(var o,e=function(){var t=o.value;t.config.linkText&&(t.config.innerLink&&(t.config.linkElContainer=t.container.parentElement.querySelector(t.config.linkToContainer),t.config.linkElContainer||(t.config.linkElContainer=document.createElement("div"),w(t.config.linkElContainer,t.config.linkToContainer),t.container.append(t.config.linkElContainer)),t.config.linkEl=t.container.parentElement.querySelector(t.config.linkTo),t.config.linkEl||(t.config.linkEl=document.createElement("p"),w(t.config.linkEl,t.config.linkTo),t.config.linkElContainer.append(t.config.linkEl)),t.config.innerTextFollowsProgress&&(t.config.linkElContainer.style.position="absolute"),t.config.linkUnits&&(t.config.linkUnitsEl=document.createElement("span"),w(t.config.linkUnitsEl,t.config.linkUnitsSelector),t.config.linkUnitsEl.innerHTML=t.config.linkUnits)),0<t.config.extraLinkTo.length&&(t.config.extraLinkEl=[],t.config.extraLinkTo.forEach(function(n){if(!document.querySelector(n))throw Error('Unable to find "'.concat(n,'" on the DOM'));t.config.extraLinkEl.push(document.querySelector(n))})))},r=d.progressBars[Symbol.iterator]();!(n=(o=r.next()).done);n=!0)e()}catch(n){t=!0,i=n}finally{try{n||null==r.return||r.return()}finally{if(t)throw i}}},p=function(){var n=!0,t=!1,i=void 0;try{for(var o,e=d.progressBars[Symbol.iterator]();!(n=(o=e.next()).done);n=!0){r(o.value)}}catch(n){t=!0,i=n}finally{try{n||null==e.return||e.return()}finally{if(t)throw i}}};function r(n){if(n.config.gradient){var t=n.ctx.createLinearGradient(0,n.config.height,n.config.width,0);t.addColorStop(0,n.config.gradient.colors[0]),t.addColorStop(1,n.config.gradient.colors[1]),n.ctx.strokeStyle=t}else n.ctx.strokeStyle=n.config.lineColor;n.ctx.lineCap=n.config.lineCap,n.ctx.lineWidth=n.config.height}var v=function(){var n=!0,t=!1,i=void 0;try{for(var o,e=d.progressBars[Symbol.iterator]();!(n=(o=e.next()).done);n=!0){var r=o.value;r.config.speed=100<r.config.speed?100:r.config.speed,r.config.speed=r.config.speed<1?1:r.config.speed,r.config.animation.step=r.config.speed*r.config.width/2e3,r.config.animation.currentProgress=0}}catch(n){t=!0,i=n}finally{try{n||null==e.return||e.return()}finally{if(t)throw i}}},y=function(){var n=!0,t=!1,i=void 0;try{for(var o,e=function(){var n=o.value;n.autoWidth&&window.addEventListener("resize",function(){n.config.width=n.parent.offsetWidth,m(n)})},r=d.progressBars[Symbol.iterator]();!(n=(o=r.next()).done);n=!0)e()}catch(n){t=!0,i=n}finally{try{n||null==r.return||r.return()}finally{if(t)throw i}}},x=function(n){var t=1/0;for(var i in n.config.breakpoints)window.innerWidth<=i&&(t=i<t?i:t);m(n,t===1/0?n.config.originalDimensions:n.config.breakpoints[t])},m=function(n,t){void 0===t&&((t={}).width=n.config.width,t.height=n.config.height),n.canvas.width=t.width,n.canvas.height=t.height,n.container.style.width="".concat(t.width,"px"),n.container.style.height="".concat(t.height,"px");var i=n.config.scale.stop/n.config.scale.end*t.width;if(T(n,i),n.config.linkElContainer&&n.config.innerTextFollowsProgress&&(n.config.linkElContainer.style.left="".concat(i,"px")),r(n),0!=i){if(n.ctx.beginPath(),"butt"===n.config.lineCap&&(n.ctx.moveTo(0,t.height/2),n.ctx.lineTo(i,t.height/2)),"round"===n.config.lineCap){var o=n.ctx.lineWidth/2,e=i-o;n.config.reverse?(n.ctx.moveTo(t.width-o,t.height/2),t.width-i<=o?n.ctx.lineTo(o,t.height/2):n.ctx.lineTo(t.width-i,t.height/2)):(n.ctx.moveTo(o,t.height/2),e<o?n.ctx.lineTo(o,t.height/2):n.ctx.lineTo(e,t.height/2))}n.ctx.stroke()}},w=function(n,t){var i=t[0],o=t.substring(1);"."===i&&n.setAttribute("class",o),"#"===i&&n.setAttribute("id",o)},T=function(n,t){if(n.config.linkText){var i=(t/n.config.width*n.config.scale.end).toFixed(n.config.decimalPoints);n.config.invertedProgress&&(i=n.config.scale.end-i),n.config.innerLink&&(n.config.linkEl.innerHTML=i,n.config.linkUnits&&n.config.linkEl.append(n.config.linkUnitsEl),"/"===n.config.linkUnits&&(n.config.linkEl.innerHTML+=n.config.scale.end),n.config.innerTextFollowsProgress&&(n.config.linkElContainer.style.left="".concat(t,"px"))),0<n.config.extraLinkTo.length&&n.config.extraLinkEl.forEach(function(n){n.innerHTML=i})}},k=function(){var n=!0,t=!1,i=void 0;try{for(var o,e=d.progressBars[Symbol.iterator]();!(n=(o=e.next()).done);n=!0){b(o.value)}}catch(n){t=!0,i=n}finally{try{n||null==e.return||e.return()}finally{if(t)throw i}}};function b(t){t.config.animateOnScroll?i(t)?window.requestAnimationFrame(function(){o(t)}):window.addEventListener("scroll",function n(){i(t)&&(window.requestAnimationFrame(function(){o(t)}),window.removeEventListener("scroll",n))}):t.config.controlAnimation||e(t)}function i(n){for(var t=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)+window.innerHeight,i=n.canvas,o=i.offsetTop;i=i.offsetParent;)o+=i.offsetTop;return o<=t}function o(n){n.config.animation.currentProgress<n.config.stopPoint&&(n.config.animation.easing?(n.config.animation.currentProgress+=.06*(n.config.stopPoint-n.config.animation.currentProgress),n.config.animation.currentProgress>=n.config.stopPoint-1&&(n.config.animation.currentProgress=n.config.stopPoint,n.done=!0)):(n.config.animation.currentProgress+=n.config.animation.step,n.config.animation.currentProgress>=n.config.stopPoint&&(n.config.animation.currentProgress=n.config.stopPoint,n.done=!0))),e(n,s.animation.currentProgress),n.done||window.requestAnimationFrame(o)}var e=function(n,t){var i=1<arguments.length&&void 0!==t&&t;if(i=i||n.config.stopPoint,T(n,i),n.ctx.clearRect(0,0,n.config.width,n.config.height),0===i)return n.config.emptyText&&(n.config.emptyTextContainer?n.config.emptyTextEl=document.querySelector(n.config.emptyTextContainer):n.config.emptyTextEl=n.config.linkEl.parentElement,n.config.emptyTextEl.innerHTML=n.config.emptyText),void(n.done=!0);if(n.ctx.beginPath(),"butt"===n.config.lineCap&&(n.ctx.moveTo(0,n.config.height/2),n.ctx.lineTo(i,n.config.height/2),n.ctx.stroke()),"round"===n.config.lineCap){var o=n.ctx.lineWidth/2,e=i-o;n.config.reverse?(n.ctx.moveTo(n.config.width-o,n.config.height/2),n.config.width-i<=o?n.ctx.lineTo(o,n.config.height/2):n.ctx.lineTo(n.config.width-i,n.config.height/2)):(n.ctx.moveTo(o,n.config.height/2),e<o?n.ctx.lineTo(o,n.config.height/2):n.ctx.lineTo(e,n.config.height/2)),n.ctx.stroke(),n.config.buttEnd&&(n.ctx.lineCap="butt",n.config.reverse?(n.ctx.moveTo(n.config.width-i,n.config.height/2),n.ctx.lineTo(n.config.width-i-o,n.config.height/2)):(n.ctx.moveTo(e,n.config.height/2),n.ctx.lineTo(i,n.config.height/2)),n.ctx.stroke(),n.ctx.lineCap="round")}n.config.barText&&E(n,i),n.config.completeText&&i===n.config.width&&(n.config.completeTextContainer?n.config.completeTextEl=document.querySelector(n.config.completeTextContainer):n.config.completeTextEl=n.config.linkEl.parentElement,n.config.completeTextEl.innerHTML=n.config.completeText)},E=function(n,t){var i=0;n.ctx.font=n.config.barTextStyle.font;for(var o=0;o<n.config.barText.length;o++)n.ctx.fillStyle=n.config.barTextStyle.primaryColor,t<i+12&&(n.ctx.fillStyle=n.config.barTextStyle.secondaryColor),n.ctx.fillText(n.config.barText[o],12+i,4+n.config.height/2),i+=n.ctx.measureText(n.config.barText[o]).width};d.render=function(n){n=(n=(n=n>s.scale.end?s.scale.end:n)<s.scale.start?s.scale.start:n)/s.scale.end*s.width,e(n)};var S=function n(t,i){var o;for(var e in i)"object"!==_typeof(i[e])||i[e]instanceof Date?i[e]instanceof Date?t[e]=new Date(i[e].getTime()):t[e]=i[e]:(o=i[e]instanceof Array?[]:{},void 0===t[e]&&(t[e]=o),n(t[e],i[e]))};!function(){S(s,g),c(),a(),l(),f(),h(),u(),p(),v(),k(),y();var n=!0,t=!1,i=void 0;try{for(var o,e=function(){var n=o.value;n.config.breakpoints&&window.addEventListener("resize",function(){x(n)})},r=d.progressBars[Symbol.iterator]();!(n=(o=r.next()).done);n=!0)e()}catch(n){t=!0,i=n}finally{try{n||null==r.return||r.return()}finally{if(t)throw i}}}()}